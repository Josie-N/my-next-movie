/*! For license information please see 964.8f6a81f0.chunk.js.LICENSE.txt */
(self.webpackChunkvidly=self.webpackChunkvidly||[]).push([[964],{964:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return X}});var i=n(907);var r=n(181);function s(e){return function(e){if(Array.isArray(e))return(0,i.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,r.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var t=n(885),o=n(791),l="Button_button__7xXDx index_DINCondSemiBold__4a3Tc",c="Button_buttonIcon__Y6spp index_NotoEmoji__2oXe-",d=n(184);function h(e){var a=e.hasIcon,n=e.icon,i=e.type,r=void 0===i?"button":i,s=e.handleButtonClick,t=e.children;return(0,d.jsxs)("button",{onClick:s,type:r,className:l,children:[a?(0,d.jsx)("span",{className:c,children:n}):"",t]})}h.defaultProps={type:"button",hasIcon:!1};var _=h,u="WatchlistSidebar_watchlistContainer__xTNQW",m="WatchlistSidebar_watchlist__7B-Nw",v="WatchlistSidebar_watchlistTitle__pMg1b",x="WatchlistSidebar_watchlistItemLabel__FqeRm",p="WatchlistSidebar_emoji__u7nw6 index_NotoEmoji__2oXe-",j=function(){return(0,d.jsxs)("aside",{className:u,children:[(0,d.jsx)("h2",{className:v,children:"My watchlist:"}),(0,d.jsxs)("ul",{className:m,children:[(0,d.jsx)("li",{children:(0,d.jsxs)("a",{href:"/",children:[(0,d.jsx)("span",{className:p,children:"\ud83d\udc4d\ud83c\udffb"}),(0,d.jsx)("h3",{className:x,children:"Added (32)"})]})}),(0,d.jsx)("li",{children:(0,d.jsxs)("a",{href:"/",children:[(0,d.jsx)("span",{className:p,children:"\ud83d\udc40"}),(0,d.jsx)("h3",{className:x,children:"Already seen (5)"})]})}),(0,d.jsx)("li",{children:(0,d.jsxs)("a",{href:"/",children:[(0,d.jsx)("span",{className:p,children:"\ud83d\udc4e"}),(0,d.jsx)("h3",{className:x,children:"Removed (2)"})]})})]})]})},f="Homepage_mainContentContainer__9oHG-",C="Homepage_movieCardContainer__7EFnV",N="Homepage_movieCardContainerSkeleton__AxaFj",b="Homepage_showMoreMovies__ovUD8",g=n(182);function y(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}var M="ButtonGroup_buttonGroup__E+u8g";var S=function(e){var a=e.children;return(0,d.jsx)("div",{className:M,children:a})},w="MovieCard_movieCard__open__I1Qvk MovieCard_movieCard__jf5v8",I="MovieCard_movieCard__collapsed__uXdHl MovieCard_movieCard__jf5v8",k="MovieCard_movieCardInner__0BdZn",Z="MovieCard_movieTitle__open__A-unz MovieCard_movieTitle__61Rqx",B="MovieCard_movieTitle__collapsed__Uc8FR MovieCard_movieTitle__61Rqx",F="MovieCard_movieRating__Anyv9 index_DINCondSemiBold__4a3Tc",A="MovieCard_movieDetails__ftyLb",O="MovieCard_movieYear__AfZ3z",T="MovieCard_movieDescription__wXgwm",E="MovieCard_movieCardShadow__new__ooimc MovieCard_movieCardShadow__hg1in",D="MovieCard_movieCardShadow__old__iHF2o MovieCard_movieCardShadow__hg1in",H="MovieCard_pageLandmark__0lCzT index_DINCondSemiBold__4a3Tc",P=n(694),R=n.n(P);var W=function(e){var a=e.movie,n=e.pageNumber,i=e.showPageNumberOnFirstCard,r=e.showPageNumberOnLastCard,s=a._id,l=a.name,c=a.releaseYear,h=a.genre,u=a.imdbRating,m=a.overview,v=Math.round(10*u),x=l.replace(/The /gm,""),p=JSON.parse(window.localStorage.getItem(s)),j=p||!1,f=(0,o.useState)(j),C=(0,t.Z)(f,2),N=C[0],b=C[1],M=(0,o.useState)(!1),P=(0,t.Z)(M,2),W=P[0],L=P[1],X=c>=2e3,q=R()(y({},E,X),y({},D,!X)),z=function(){return L(!0)},G=function(){return L(!1)},Y=function(){localStorage.setItem(s,JSON.stringify(!N)),b(!N)},J=function(e){return e.stopPropagation()},Q=(0,d.jsx)(d.Fragment,{children:r&&(0,d.jsx)("span",{"aria-hidden":!0,className:H,children:n})}),U=(0,d.jsx)(d.Fragment,{children:W?(0,d.jsxs)(S,{children:[(0,d.jsx)(_,{hasIcon:!0,icon:"\ud83d\udc4e\ud83c\udffb",type:"button",handleButtonClick:J,children:(0,d.jsx)("span",{children:"REMOVE"})}),(0,d.jsx)(_,{hasIcon:!0,icon:"\ud83d\udc4d",type:"button",handleButtonClick:J,children:(0,d.jsx)("span",{children:"ADD"})})]}):""}),V=(0,d.jsx)(d.Fragment,{children:i&&(0,d.jsxs)("h3",{className:g.Z.visuallyHidden,children:["Page ",n]})});return N?(0,d.jsxs)(d.Fragment,{children:[V,(0,d.jsx)("div",{tabIndex:"0",className:I,onClick:Y,onMouseEnter:z,onMouseLeave:G,children:(0,d.jsx)("h4",{className:B,children:x})}),Q]}):(0,d.jsxs)(d.Fragment,{children:[V,(0,d.jsxs)("div",{tabIndex:"0",className:w,onClick:Y,onMouseEnter:z,onMouseLeave:G,children:[(0,d.jsxs)("div",{className:k,children:[(0,d.jsx)("h4",{className:Z,children:x}),(0,d.jsxs)("p",{className:A,children:[(0,d.jsxs)("span",{className:O,children:[c," \u2219 "]}),(0,d.jsx)("span",{children:h})]}),(0,d.jsx)("p",{className:T,children:m})]}),(0,d.jsx)("p",{className:F,children:v}),U,(0,d.jsx)("div",{className:q})]}),Q]})},L=n(861),X=function(){var e=(0,o.useState)([]),a=(0,t.Z)(e,2),n=a[0],i=a[1],r=(0,o.useState)(!0),l=(0,t.Z)(r,2),c=l[0],h=l[1],u=(0,o.useState)(0),m=(0,t.Z)(u,2),v=m[0],x=m[1],p=(0,o.useState)(1),y=(0,t.Z)(p,2),M=y[0],S=y[1];(0,o.useEffect)((function(){fetch("https://josie-moviehut.herokuapp.com/api/movies?page=".concat(M,"&limit=").concat(5)).then((function(e){return e.json()})).then((function(e){var a=e.pagination,r=e.data;i([].concat(s(n),s(r))),x(a.totalPages)})).catch((function(e){console.error(e)})),h(!1)}),[M]);var w=M===v?(0,d.jsx)("h4",{children:"No more movies to load."}):(0,d.jsx)(_,{hasIcon:!0,icon:"\ud83d\udc47",type:"button",handleButtonClick:function(){S(M+1)},children:(0,d.jsx)("span",{children:"SHOW MORE"})});return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:g.Z.maxWidthDesktop,children:(0,d.jsxs)("main",{className:f,children:[(0,d.jsx)("h2",{className:g.Z.visuallyHidden,children:"Browse all movies available:"}),(0,d.jsxs)("div",{children:[c?(0,d.jsx)("div",{className:N,children:(0,d.jsx)(L.Z,{})}):(0,d.jsx)("div",{className:C,children:n&&n.map((function(e,a){var n=a/5,i=a%5;return(0,d.jsx)(W,{movie:e,pageNumber:Math.floor(n)+1,showPageNumberOnLastCard:4===i,showPageNumberOnFirstCard:0===i},e._id)}))}),(0,d.jsx)("div",{className:b,children:w})]}),c?(0,d.jsx)(L.Z,{}):(0,d.jsx)(j,{})]})})})}},694:function(e,a){var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e=[],a=0;a<arguments.length;a++){var n=arguments[a];if(n){var s=typeof n;if("string"===s||"number"===s)e.push(n);else if(Array.isArray(n)){if(n.length){var t=r.apply(null,n);t&&e.push(t)}}else if("object"===s)if(n.toString===Object.prototype.toString)for(var o in n)i.call(n,o)&&n[o]&&e.push(o);else e.push(n.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(a,[]))||(e.exports=n)}()}}]);
//# sourceMappingURL=964.8f6a81f0.chunk.js.map